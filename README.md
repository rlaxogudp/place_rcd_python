# 📅 어디 가지? 뭐 먹지? (Place Recommendation System)

> **"결정 장애를 해결하는 맞춤형 데이트 & 약속 스케줄링 웹 서비스"**
> 사용자의 상황(지역, 인원, 시간)을 분석하여 최적의 하루 일정을 자동으로 계획해 줍니다.

---

## 📝 프로젝트 소개 (Project Overview)
**"어디 가지? 뭐 먹지?"**는 약속 장소를 정할 때마다 고민하는 사용자들을 위해 개발된 **Flask 기반 스케줄링 웹 애플리케이션**입니다.

사용자가 **지역, 인원, 만남 시작 시간**을 입력하면, 카카오맵 API 기반의 데이터를 활용하여 식사, 카페, 영화, 문화생활 등을 조합한 **'자연스러운 하루 스케줄'**을 자동으로 생성해 줍니다.

---

## ✨ 주요 기능 (Key Features)

### 1. 사용자 맞춤형 스케줄링 (Smart Scheduling)
* **유연한 시간 블록**: 사용자가 입력한 **시작 시간(Start Time)**에 맞춰 하루 일정이 끝날 때까지 동적으로 활동을 배정합니다.
* **논리적 알고리즘**: 단순 무작위 추천이 아닌, 실제 약속 패턴을 고려한 로직을 적용했습니다.
    * 🍽️ **식사 시간 고정**: 점심과 저녁 식사 시간대는 고정적으로 배정됩니다.
    * 🍺 **활동 제약 (Time Constraints)**: '술집' 카테고리는 저녁 7시 이후 일정에만 추천됩니다.
    * 🎬 **밸런스 조절**: 영화 관람은 하루에 최대 한 번만 포함됩니다.
    * 🔄 **중복 방지**: 동일한 장소가 스케줄에 중복으로 등장하지 않도록 필터링합니다.

### 2. 하이브리드 데이터 수집 (Hybrid Data Collection)
* **CSV 데이터베이스 (Speed)**: 강남, 신촌, 홍대 등 주요 핫플레이스 지역 데이터는 미리 구축하여 빠른 응답 속도를 보장합니다.
* **실시간 API 호출 (Diversity)**: DB에 없는 새로운 지역을 검색할 경우, 실시간으로 **Kakao Map API**를 호출하여 최신 정보를 반영합니다.

### 3. 데이터 전처리 및 분류 표준화
* API의 복잡한 세부 카테고리(예: '문화,예술 > 영화,영상 > 영화관')를 알고리즘 처리에 용이하도록 **6개 대분류**(`음식점`, `카페`, `술집`, `문화생활`, `영화`, `관광명소`)로 표준화하여 매핑했습니다.

---

## 🛠️ 기술 스택 (Tech Stack)

| 구분 | 기술 | 설명 |
|:---:|:---:|:---|
| **Language** | ![Python](https://img.shields.io/badge/Python-3776AB?style=flat&logo=Python&logoColor=white) | 스케줄링 알고리즘 및 백엔드 로직 구현 |
| **Framework** | ![Flask](https://img.shields.io/badge/Flask-000000?style=flat&logo=Flask&logoColor=white) | 웹 서버 구축 및 라우팅 |
| **Data** | ![Pandas](https://img.shields.io/badge/Pandas-150458?style=flat&logo=Pandas&logoColor=white) | CSV 데이터 로드 및 필터링 처리 |
| **API** | **Kakao Map API** | 장소 검색 및 상세 정보 수집 |
| **Frontend** | HTML, CSS | 사용자 입력 UI 및 결과 페이지 구성 |

---

## 🧩 알고리즘 로직 (Logic Flow)

1.  **Input**: 사용자로부터 `지역`, `인원`, `시작 시간` 입력.
2.  **Data Fetching**:
    * 입력 지역이 CSV에 있는지 확인 → 없으면 **Kakao API 크롤링**.
3.  **Filtering & Selection**:
    * 현재 시간(`current_time`) 기준으로 수행 가능한 활동 리스트 생성 (**동적 활동 필터링**).
    * 식사 시간, 술집 가능 시간 등 제약 조건(`Constraints`) 확인.
4.  **Scheduling**:
    * 조건에 맞는 장소를 랜덤 선택하여 타임라인에 추가.
    * 하루 일과가 끝날 때까지 루프 반복.
5.  **Result**: 최종 스케줄 및 각 장소의 지도/상세 정보 제공.

---

## 🚀 문제 해결 (Troubleshooting)

* **문제 1: 추천 장소 중복 발생**
    * *원인*: 랜덤 선택 과정에서 이전에 방문했던 장소가 다시 후보군에 포함됨.
    * *해결*: `visited` 리스트를 관리하여 이미 스케줄에 포함된 장소는 추천 목록에서 제외하는 로직 추가.

* **문제 2: API 데이터 카테고리의 복잡성**
    * *원인*: API의 카테고리가 너무 세분화되어 있어 알고리즘 조건문에 적용하기 어려움.
    * *해결*: `classify_place` 함수를 통해 특정 키워드(예: 'CGV', '주점')를 포함한 데이터를 표준 카테고리로 변환/단순화.

---

## 👥 팀원 및 역할 (Team Members)

| 이름 | 역할 | 담당 업무 상세 |
|:---:|:---:|:---|
| **김태형** | Backend / Algo | Flask 서버 구축, 자동 스케줄링 알고리즘 메인 구현 |
| **김호준** | Data / API | Kakao API 연동, 지역 및 카테고리별 CSV DB 생성 |
| **고서영** | Algo / Logic | 블록 중복 출력 방지 및 스케줄 재생성 기능 구현 |
| **강민준** | PM | 프로젝트 총괄 기획 및 발표 |

---

## 💻 실행 방법 (How to Run)

1. **레포지토리 클론**
   ```bash
   git clone [레포지토리 URL]
